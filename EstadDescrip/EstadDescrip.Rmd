---
title: "I Estadística Descriptiva"
author: "F. A. Barrios<br>ENES Juriquilla, UNAM<br>"
date: "`r Sys.Date()`"
output:
  rmdformats::material:
    highlight: kate
description: "to prepare ProbEstad2021 presentations"
---

```{r setup, include=FALSE}
library(knitr)
library(rmdformats)

## Global options
options(max.print="75")
opts_chunk$set(echo=TRUE,
	             cache=TRUE,
               prompt=FALSE,
               tidy=TRUE,
               comment=NA,
               message=FALSE,
               warning=FALSE)
opts_knit$set(width=75)
```

# Introducción

En esta clase revisaremos el concepto de estadística descriptiva (Daniel W.W. 2009, Biostatistics, 9th). Y también tomaremos varias ideas y ejemplos del libro de Estadística con R de Verzani (Verzani, J. 2005, UsingR)

Una de las primeras cosas que es indispensable hacer al iniciar el sistema R es determinar cual es el directorio de trabajo y si se van a usar algunas librerías hay que cargarlas.  En este caso usaremos una librería muy popular, tidyverse, que se usa para una multitud de cosas ya que es un sub-set de librerías que en conjunto cuentan con una gran cantidad de funciones de uso común.

```{r}
setwd("~/Dropbox/GitHub/ProbEstad2021")
# To set the working directory realtive to the user's dir

library(tidyverse)
library(multcomp)
library(UsingR)
```
Iniciaremos con unos ejemplos muy simples de funciones ya integradas en R de carácter muy general.  Empezando por cargar una serie de números, usando una serie de datos de la cantidad de ballenas que llegaron a la playa en el estado de Texas, E.E.U.U. por año, en la década de los 90's.

```{r}
# Whale beaching per year in Texas during the 1990's
# create a vector
whales <- c(74, 122, 235, 111, 292, 111, 211, 133, 156, 79)
#
whales # print the variable whales

sum(whales)

length(whales)
#
sum(whales)/length(whales)
#
mean(whales)
```
Como se puede ver con simples comandos se pueden estimar *estadísticas* de los datos.  Un mecanismo para describir una series de *datos crudos* es el ordenamiento, es decir si yo tengo un conjunto de datos numéricos una técnica para describirlos es iniciar por ordenarlos. En los tiempos anteriores a las computadoras esto tomaría un esfuerzo, pero en la actualidad se hace por una solicitud de ordenamiento, en el R existe un comando que hace esto en un paso, también es por medio de un comando que se puede encontrar el mínimo o el máximo.

```{r}
sort(whales)
min(whales)
max(whales)
```

Y de esta colección de comandos se tienen el rango y la suma acumulada.  Pero uno de los comandos más útiles puede ser el vervatim summary, que nos entrega una serie de parámetros de la variable, y vale la pena mencionar que a este comando se le puede pasar una estructura que entregará la misma serie de parámetros para cada variable de la estructura.

```{r}
range(whales)
# cumulative sum of a vector
cumsum(whales)
summary(whales)
```

# Definiciones      

El material básico de la estadística son los datos, datos experimentales, datos poblacionales, datos económicos y de mercado, etc. Dichos datos se puedes describir como números, pero en realidad son mucha más, pueden ser términos descriptivos, datos cualitativos, datos relacionales. En general pueden ser objetos de cuenta.  
La estadística es el área de estudio de la colección, ordenamiento, concentración y análisis de datos y la extracción de inferencias a cerca de un sistema que describen datos parciales que se toman de dicho sistema.  

## Fuentes de datos  

La necesidad de desarrollar estimaciones estadísticas está motivada por la necesidad de contestar preguntas relacionadas a un sistema que no se puede medir en totalidad y solo se pueden extraer medidas parciales de el.  Por lo tanto, es necesario adquirir datos del sistema que se quiera estudiar, ya que estos datos serán la materia prima para llegar a conclusiones de preguntas relativas a dicho sistema.  En la actualidad las fuentes de datos son muy variadas y se pueden agrupar en algunos grupos;  

**Repositorios públicos** o de acceso semi-público administrados. Repositorios que son regularmente alimentados por instituciones encargadas de administrar y curar dichos datos. Como ejemplos pueden ser archivos de pacientes de sistemas de salid, bases de datos de instituciones gubernamentales o no-gubernamentales, entre otros.  

**Encuestas**. Cuando se quieren obtener datos específicos se de algunas cuestiones en particular se pueden hacer una serie de preguntas estructuradas que sean contestadas en forma libre por los sujetos de estudio.  

**Experimentos**. En ocasiones particulares, es común que los datos que se tienen son resultado de experimentos planeados para responder a una condición específica.  

**Fuentes externas**.  En ocasiones se cuenta ya con datos de situaciones que se quieren estudiar y se pueden extraer datos de dichos estudios anteriores, para deducir información. Ejemplos pueden ser publicaciones anteriores, entre otros.  

## Población y Muestas  

**Población**. Es el grupo completo de sujetos para los que se cumple alguna ley o regla. Por ejemplo: la población de todos los estudiantes, es decir todos aquellos sujetos que se dedican al estudio como actividad principal. Pero esta población se puede describir en forma más específica, por ejemplo: todos los estudiantes de licenciatura, o todos los estudiantes de escuelas técnicas. Pero hacer un estudio que nos permita concluir algo de toda la población sería necesario hacer la medida en toda la población, y esto limitaría seriamente nuestra capacidad de hacer estudios. Ya que la población podría además incluir a todos los miembros pasados, futuros y presentes, lo que en principio haría la población infinita. Por lo tanto para poder hacer un estudio y se toma una medida parcial de la población, o se a un su-grupo de la población que se quiere estudiar, un muestra de la población, y se asignan las medidas de dicha muestra como representantes de las que se obtendrían de la población completa.  

**Muestra**. Una parte de la población, que se usa para describir a la población completa. Es un subconjunto que se toma de la población completa y puede extraerse en forma aleatoria (lo más común) o sistemática. Si se desarrolla un muestreo que sigue algoritmos para extraer muestras que no tengan influencia sobre los procesos de estimación (estadísticos) que se propone usar sobre los datos se dice que es sistemática.  Cuando una muestra de tamaño $n$ extraída de una población de tamaño $N$, se dice que es aleatoria si cualquier otra muestra de tamaño $n$ tomada de la misma población, tiene la misma oportunidad de ser escogida como la muestra original.

## Variables

### Variables Cuantitativas
Las variables cuantitativas son aquellas que describen cantidad, por lo general son las variables más medidas. Pueden tomar varias formas, ya sea numéricas o descriptivas.

### Variables Cualitativas 
Las variables cuantitativas son aquellas que describen características, no son medidas en cantidad sino en atribuciones.

### Variables Aleatorias
Las Variables aleatorias son aquellas que están descritas por alguna distribución. Por lo general las medidas obtenidas de algún expereimento se dice que son aleatorias, es decir cuando los valores obtenidos no pueden ser exactamente predichos antes de ser medidos. Este tipo de variables son medidas por procesos que tienen una aleatoriedad implícita (experimentales) generalmente.  Las variables aleatorias además pueden ser *discretas* o *continuas*.

### Variables discretas
Las variables discretas (aleatorias) para definir este tipo de variables no entraremos en detalles matemáticos mas allá del interés de este curso, así damos una definición no rigurósa de este tipo de variables. Se dice que una variable es discreta cuando tiene discontinuidades, saltos o interrupciones en los valores que puede tomar. Estas interrupciones indican la aucecia de los valores que la variable puede tomar.  

### Variables continuas  
Las variables continuas no incluyen discontinuidades o interrupciones que son características en las variables discretas.  Las variables continuas pueden tomar cualquier valor dentro del rango de la variable.  

## Inferencia Estadística  
La *inferencia estadística* es el proceso por el cual se puede llegar a conclusiones relacionadas a una *población* a partir de información contenida en una *muestra* que fue extraída de dicha población.  

# Agrupamiento de Datos
Para iniciar el estudio de una muestra de datos se pueden hacer algunos procesos que nos permitan hacer una serie de *Medidas Descriptivas* de los datos que se obtuvieron a traves de una muestra tomada de una población.  
Como ya lo expusimos en el ejemplo del número de ballenas que llegaron a las playas del estado de Texas en la década de los 90's. uno de los pazos iniciales que se puede hacer para entender una conjunto de datos medidos es hacer una arreglo ordenado de los datos que tenemos.  En el ejemplo a continuación vamos a usar una muestra de un estudio de sujetos que dejaron de fumar, se listan las edades a las que dejaron de ser fumadores.  En el estado que está la lista al cargarse, datos *crudos (raw data)*, encontramos que si nos preguntaran cual es la edad mayor y menor de cuando este grupo de sujetos dejó de fumar nos tomaría algún esfuerzo, sin embargo si cargamos los datos en un vector (arreglo unidimensional) y lo ordenamos bastará con ver el primer y último elementos para saber cual es el mínimo y máximo del grupo de edades.   

```{r}
edad <- read_csv("DataSets/ch02_all/EXA_C02_S02_01.csv")
edad
#
ord_edad <- sort(edad$Age)
ord_edad
#
summary(edad)
#
stem(edad$Age)
hist(edad$Age)
#
hist(edad$Age, prob=TRUE)
```

